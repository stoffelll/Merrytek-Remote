# Merrytek IR Remote Control - ESPHome Integration

This repository contains the full infrared command set for Merrytek Lighting Sensors, decoded and verified using an ESP32. It allows for the complete digitalization and automation of Merrytek sensors within Home Assistant.

## Hardware Setup
- **Microcontroller:** ESP32 (e.g., DevKit V1)
- **IR Receiver:** TSOP38238 or similar (38kHz)
- **IR Transmitter:** 940nm IR LED (driven via NPN transistor/2N2222 for maximum range)
- **Protocol:** NEC
- **Address:** `0x5372`

## Remote Layout
![Merrytek Remote Control](https://via.placeholder.com/300x500.png?text=Place+Photo+of+Remote+Here)
*Note: This documentation covers the 8-row configuration including Brightness, Hold Time, Standby Period, and Daylight Sensor settings.*

---

## 1. Master & Function Commands
These commands control the operational modes of the sensor.

| Button | NEC Command | Full Pronto Hex Code |
| :--- | :--- | :--- |
| **ON/OFF** | `0xFE01` | `0000 006D 0022 0000 015C 00AB 0018 0013 0018 003F 0017 0014 0018 0014 0018 0040 0017 003F 0017 003F 0017 0013 0018 0040 0017 0040 0017 0013 0018 0014 0018 003F 0017 0014 0018 0040 0017 0013 0018 003F 0017 0013 0018 0013 0018 0014 0018 0014 0018 0013 0018 0014 0018 0014 0018 0014 0018 0040 0017 003F 0017 0040 0017 003F 0017 003F 0016 0040 0017 003F 0017 0181` |
| **Reset** | `0xFD02` | `0000 006D 0022 0000 015C 00AB 0017 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0040 0016 0040 0017 003F 0018 003F 0018 003F 0019 0181` |
| **Sensor Motion** | `0xFC03` | `0000 006D 0022 0000 015C 00AB 0017 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0040 0016 0040 0016 0040 0017 0181` |
| **Dim Test** | `0xFB04` | `0000 006D 0022 0000 015C 00AB 0018 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0017 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0015 0016 0015 0016 0040 0017 0040 0016 0015 0016 0040 0017 0040 0017 0040 0017 0040 0017 0040 0017 0181` |
| **Test 2S** | `0x6B94` | `0000 006D 0022 0000 015D 00AA 0017 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0017 003F 0016 0040 0016 0015 0016 0015 0016 0040 0017 0014 0016 0040 0017 0014 0017 0014 0017 0014 0016 0040 0016 0015 0017 003F 0017 0014 0017 0014 0017 003F 0017 003F 0018 003E 0017 0014 0017 003F 0017 0014 0017 003F 0017 003F 0019 0012 001A 0181` |
| **QS1 (Scene)** | `0xEC13` | `0000 006D 0022 0000 015C 00AB 0017 0015 0016 0040 0017 0013 0017 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0017 003F 0016 0015 0016 0014 0017 0040 0016 0015 0016 0040 0016 0014 0018 003F 0017 003F 0017 0014 0017 0013 0018 003F 0017 0014 0017 0014 0017 0014 0017 0014 0017 0014 0017 003F 0017 003F 0017 0014 0017 003F 0016 0040 0017 003F 0017 0181` |
| **QS2 (Scene)** | `0xEB14` | `0000 006D 0022 0000 015C 00AB 0017 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0014 0017 0015 0016 0040 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0040 0016 0040 0016 0181` |
| **QS3 (Scene)** | `0x4EB1` | `0000 006D 0022 0000 015C 00AB 0017 0015 0016 0040 0016 0014 0017 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0040 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0181` |

---

## 2. Sensitivity & Dimming
Manual adjustment commands.

| Button | NEC Command | Full Pronto Hex Code |
| :--- | :--- | :--- |
| **DIM +** | `0x5EA1` | `0000 006D 0022 0000 015C 00AB 0017 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0015 0016 0181` |
| **DIM -** | `0x5CA3` | `0000 006D 0022 0000 015C 00AB 0017 0014 0017 0040 0016 0015 0016 0014 0017 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0014 0017 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0014 0017 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0015 0016 0181` |
| **HS (High Sens)** | `0xEE11` | `0000 006D 0022 0000 015C 00AB 0017 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0014 0017 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0040 0016 0015 0016 0015 0016 0015 0016 0015 0016 0040 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0040 0016 0181` |
| **LS (Low Sens)** | `0xED12` | `0000 006D 0022 0000 015C 00AB 0017 0014 0017 0040 0016 0015 0016 0014 0017 0040 0016 0040 0016 0040 0016 0014 0017 0040 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0040 0016 0014 0017 0015 0016 0040 0016 0015 0016 0015 0016 0040 0016 0015 0016 0014 0017 0014 0017 0040 0016 0015 0016 0040 0016 0040 0016 0015 0016 0040 0016 0040 0016 0040 0016 0181` |

---

## 3. Parameter Settings (NEC)
These commands set specific threshold values. Use the NEC command `0x5372` + `Command` in your YAML.

### Brightness (%)
- **10%:** `0xAE51`
- **20%:** `0xAD52`
- **25%:** `0xDE21`
- **30%:** `0xAC53`
- **50%:** `0xDD22`
- **75%:** `0xDC23`
- **100%:** `0xDB24`

### Hold Time (Hold)
- **5s:** `0xCE31`
- **30s:** `0xCD32`
- **1min:** `0xCC33`
- **3min:** `0xCB34`
- **5min:** `0xBE41`
- **10min:** `0xBD42`
- **20min:** `0xBC43`
- **30min:** `0xBB44`

### Standby Period (Standby)
- **0s:** `0x9E61`
- **10s:** `0x9D62`
- **1min:** `0x9C63`
- **3min:** `0x9B64`
- **5min:** `0x8E71`
- **10min:** `0x8D72`
- **30min:** `0x8C73`
- **+inf:** `0x8B74`

### Daylight Sensor (Lux)
- **5L:** `0x7E81`
- **15L:** `0x7D82`
- **30L:** `0x7C83`
- **50L:** `0x7B84`
- **100L:** `0x6E91`
- **150L:** `0x6D92`
- **Disable:** `0x6C93`

---

## Example ESPHome Button
Add this to your configuration to trigger a command from the dashboard:

```yaml
button:
  - platform: template
    name: "Merrytek Reset"
    icon: "mdi:restart"
    on_press:
      - remote_transmitter.transmit_nec:
          address: 0x5372
          command: 0xFD02
